!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("PB",[],e):"object"==typeof exports?exports.PB=e():t.PB=e()}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=9)}([function(t,e){var i=["int32","int64","uint32","uint64","sint32","sint64","varint","bool"],n=[].concat(i,["fixed32","fixed64","sfixed32","sfixed64","double","float"]),r=["varint","fixed64","lengthDelimited",void 0,void 0,"fixed32"];t.exports={TWO_TO_20:1048576,TWO_TO_23:8388608,TWO_TO_32:4294967296,TWO_TO_33:8589934592,TWO_TO_52:4503599627370496,TWO_TO_63:0x8000000000000000,TWO_TO_64:0x10000000000000000,VARINT_TYPES:i,PACKABLE_TYPES:n,WIRE_TYPES:{varint:0,fixed64:1,lengthDelimited:2,fixed32:5},WIRE_TYPES_NAMES:r,PROTOBUF_TYPES:["int32","int64","uint32","uint64","sint32","sint64","bool","fixed32","fixed64","sfixed32","sfixed64","bytes","string","message","double","float"],DEFAULT_VALUES:{int32:0,int64:0,uint32:0,uint64:0,sint32:0,sint64:0,bool:!1,fixed32:0,fixed64:0,sfixed32:0,sfixed64:0,bytes:"",string:"",message:null,double:0,float:0},MIN_UINT32:0,MAX_UINT32:4294967295,MIN_INT32:-2147483648,MAX_INT32:2147483647,MIN_INT64:"-9223372036854775808",MAX_INT64:"9223372036854775807",MIN_UINT64:0,MAX_UINT64:"18446744073709551615",MAX_FLOAT:34028234663852886e22,MIN_FLOAT:11754943508222875e-54,MIN_DOUBLE:22250738585072014e-324,MAX_DOUBLE:17976931348623157e292}},function(t,e){t.exports=n;var i=null;try{i=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function n(t,e,i){this.low=0|t,this.high=0|e,this.unsigned=!!i}function r(t){return!0===(t&&t.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},s={};function a(t,e){var i,n,r;return e?(r=0<=(t>>>=0)&&t<256)&&(n=s[t])?n:(i=h(t,(0|t)<0?-1:0,!0),r&&(s[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(n=o[t])?n:(i=h(t,t<0?-1:0,!1),r&&(o[t]=i),i)}function u(t,e){if(isNaN(t))return e?m:p;if(e){if(t<0)return m;if(t>=v)return x}else{if(t<=-g)return T;if(t+1>=g)return k}return t<0?u(-t,e).neg():h(t%c|0,t/c|0,e)}function h(t,e,i){return new n(t,e,i)}n.fromInt=a,n.fromNumber=u,n.fromBits=h;var f=Math.pow;function l(t,e,i){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return p;if("number"==typeof e?(i=e,e=!1):e=!!e,(i=i||10)<2||36<i)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(t.substring(1),e,i).neg();for(var r=u(f(i,8)),o=p,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),h=parseInt(t.substring(s,s+a),i);if(a<8){var d=u(f(i,a));o=o.mul(d).add(u(h))}else o=(o=o.mul(r)).add(u(h))}return o.unsigned=e,o}function d(t,e){return"number"==typeof t?u(t,e):"string"==typeof t?l(t,e):h(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}n.fromString=l,n.fromValue=d;var c=4294967296,v=c*c,g=v/2,y=a(1<<24),p=a(0);n.ZERO=p;var m=a(0,!0);n.UZERO=m;var _=a(1);n.ONE=_;var w=a(1,!0);n.UONE=w;var b=a(-1);n.NEG_ONE=b;var k=h(-1,2147483647,!1);n.MAX_VALUE=k;var x=h(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var T=h(0,-2147483648,!1);n.MIN_VALUE=T;var E=n.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*c+(this.low>>>0):this.high*c+(this.low>>>0)},E.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(T)){var e=u(t),i=this.div(e),n=i.mul(e).sub(this);return i.toString(t)+n.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=u(f(t,6),this.unsigned),o=this,s="";;){var a=o.div(r),h=(o.sub(a.mul(r)).toInt()>>>0).toString(t);if((o=a).isZero())return h+s;for(;h.length<6;)h="0"+h;s=""+h+s}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(T)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},E.isZero=function(){return 0===this.high&&0===this.low},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1==(1&this.low)},E.isEven=function(){return 0==(1&this.low)},E.equals=function(t){return r(t)||(t=d(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},E.eq=E.equals,E.notEquals=function(t){return!this.eq(t)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(t){return this.comp(t)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(t){return this.comp(t)<=0},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(t){return this.comp(t)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(t){return this.comp(t)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(t){if(r(t)||(t=d(t)),this.eq(t))return 0;var e=this.isNegative(),i=t.isNegative();return e&&!i?-1:!e&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(T)?T:this.not().add(_)},E.neg=E.negate,E.add=function(t){r(t)||(t=d(t));var e=this.high>>>16,i=65535&this.high,n=this.low>>>16,o=65535&this.low,s=t.high>>>16,a=65535&t.high,u=t.low>>>16,f=0,l=0,c=0,v=0;return c+=(v+=o+(65535&t.low))>>>16,l+=(c+=n+u)>>>16,f+=(l+=i+a)>>>16,f+=e+s,h((c&=65535)<<16|(v&=65535),(f&=65535)<<16|(l&=65535),this.unsigned)},E.subtract=function(t){return r(t)||(t=d(t)),this.add(t.neg())},E.sub=E.subtract,E.multiply=function(t){if(this.isZero())return p;if(r(t)||(t=d(t)),i)return h(i.mul(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned);if(t.isZero())return p;if(this.eq(T))return t.isOdd()?T:p;if(t.eq(T))return this.isOdd()?T:p;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(y)&&t.lt(y))return u(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,n=65535&this.high,o=this.low>>>16,s=65535&this.low,a=t.high>>>16,f=65535&t.high,l=t.low>>>16,c=65535&t.low,v=0,g=0,m=0,_=0;return m+=(_+=s*c)>>>16,g+=(m+=o*c)>>>16,m&=65535,g+=(m+=s*l)>>>16,v+=(g+=n*c)>>>16,g&=65535,v+=(g+=o*l)>>>16,g&=65535,v+=(g+=s*f)>>>16,v+=e*c+n*l+o*f+s*a,h((m&=65535)<<16|(_&=65535),(v&=65535)<<16|(g&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(t){if(r(t)||(t=d(t)),t.isZero())throw Error("division by zero");var e,n,o;if(i)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?h((this.unsigned?i.div_u:i.div_s)(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?m:p;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return m;if(t.gt(this.shru(1)))return w;o=m}else{if(this.eq(T))return t.eq(_)||t.eq(b)?T:t.eq(T)?_:(e=this.shr(1).div(t).shl(1)).eq(p)?t.isNegative()?_:b:(n=this.sub(t.mul(e)),o=e.add(n.div(t)));if(t.eq(T))return this.unsigned?m:p;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=p}for(n=this;n.gte(t);){e=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(e)/Math.LN2),a=s<=48?1:f(2,s-48),l=u(e),c=l.mul(t);c.isNegative()||c.gt(n);)c=(l=u(e-=a,this.unsigned)).mul(t);l.isZero()&&(l=_),o=o.add(l),n=n.sub(c)}return o},E.div=E.divide,E.modulo=function(t){return r(t)||(t=d(t)),i?h((this.unsigned?i.rem_u:i.rem_s)(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return h(~this.low,~this.high,this.unsigned)},E.and=function(t){return r(t)||(t=d(t)),h(this.low&t.low,this.high&t.high,this.unsigned)},E.or=function(t){return r(t)||(t=d(t)),h(this.low|t.low,this.high|t.high,this.unsigned)},E.xor=function(t){return r(t)||(t=d(t)),h(this.low^t.low,this.high^t.high,this.unsigned)},E.shiftLeft=function(t){return r(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?h(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):h(0,this.low<<t-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(t){return r(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?h(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):h(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(t){if(r(t)&&(t=t.toInt()),0===(t&=63))return this;var e=this.high;return t<32?h(this.low>>>t|e<<32-t,e>>>t,this.unsigned):h(32===t?e:e>>>t-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?h(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:h(this.low,this.high,!0)},E.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},E.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},n.fromBytes=function(t,e,i){return i?n.fromBytesLE(t,e):n.fromBytesBE(t,e)},n.fromBytesLE=function(t,e){return new n(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},n.fromBytesBE=function(t,e){return new n(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},function(t,e,i){var n=i(4),r=n.readVarintAndLength,o=n.readVarint,s=i(7),a=s.writeNumberVarint,u=s.writeLongVarint;function h(t){for(var e=[],i=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e[i++]=r:r<2048?(e[i++]=192|r>>6,e[i++]=128|63&r):r<55296||r>=57344?(e[i++]=224|r>>12,e[i++]=128|r>>6&63,e[i++]=128|63&r):(n++,r=65536+((1023&r)<<10|1023&t.charCodeAt(n)),e[i++]=240|r>>18,e[i++]=128|r>>12&63,e[i++]=128|r>>6&63,e[i++]=128|63&r)}return e}t.exports={keyByMultiple:function(t,e){var i={};return t.forEach((function(t){t[e]in i?i[t[e]].push(t):i[t[e]]=[t]})),i},readVarint:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e,t).toLong()},readVarintAndLength:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=r(e,t);return i[0]=i[0].toLong(),i},writeVarint:function(t){var e=[],i={data:e,pos:0};return"number"==typeof t?a.call(i,t):u.call(i,t),e},toByteArray:h,fromByteArray:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length;if(!t)return"";for(var n=[],r=0,o=e;o<i;o++){var s=t[o];if(s>255)throw Error("Invalid byte array");if(s<128)n[r++]=String.fromCharCode(s);else if(s>191&&s<224){var a=t[++o];n[r++]=String.fromCharCode((31&s)<<6|63&a)}else if(s>223&&s<240){var u=t[++o],h=t[++o];n[r++]=String.fromCharCode((15&s)<<12|(63&u)<<6|63&h)}else{var f=((7&s)<<18|(63&t[++o])<<12|(63&t[++o])<<6|63&t[++o])-65536;n[r++]=String.fromCharCode(55296|f>>10),n[r++]=String.fromCharCode(56320|1023&f)}}return n.join("")},toHex:function(t){"string"==typeof t&&(t=h(t));for(var e="",i=0;i<t.length;i++){if(t[i]>255||t[i]<0)throw RangeError("".concat(t[i]," is not in range [0, 255]"));var n=t[i].toString(16);e+=n.length>1?n:"0"+n}return e},fromHex:function(t){if(t.length%2!=0)throw Error("Invalid hex");for(var e=[],i=0,n=0;n<t.length;i++,n+=2){var r=parseInt(t[n]+t[n+1],16);if(isNaN(r))throw Error("Invalid hex");e[i]=r}return e}}},function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=i(0).TWO_TO_32,o=i(1),s=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lo=e>>>0,this.hi=i>>>0}var e,i,s;return e=t,s=[{key:"fromNumber",value:function(e){if(0===e)return a;var i=e<0;i&&(e=-e);var n=e>>>0,o=(e-n)/r>>>0;return i&&(o=~o>>>0,n=~n>>>0,++n>r&&(n=0,++o>r&&(o=0))),new t(n,o)}},{key:"from",value:function(e){return"number"==typeof e?t.fromNumber(e):("string"==typeof e&&(e=o.fromString(e)),e.low||e.high?new t(e.low>>>0,e.high>>>0):e.lo||e.hi?new t(e.lo>>>0,e.hi>>>0):a)}}],(i=[{key:"toNumber",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,i=~this.hi>>>0;return e||(i=i+1>>>0),-(e+i*r)}return this.lo+this.hi*r}},{key:"toLong",value:function(t){return new o(this.lo,this.hi,t)}},{key:"zzEncode",value:function(){var t=this.hi>>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}},{key:"zzDecode",value:function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}},{key:"clone",value:function(){return new t(this.lo,this.hi)}}])&&n(e.prototype,i),s&&n(e,s),t}(),a=new s(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1},s.zero=a,t.exports=s},function(t,e,i){var n=i(3);function r(){for(var t=this.offset;128&this.data[this.offset++];);return t}function o(t,e){return s(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length)[0]}function s(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=t,o=new n(0,0),s=0;if(!(i-t>4)){for(;s<3;++s){if(t>=i)throw RangeError("Unexpected end while reading varint");if(o.lo=(o.lo|(127&e[t])<<7*s)>>>0,e[t++]<128)return[o,t-r]}return o.lo=(o.lo|(127&e[t])<<7*s)>>>0,[o,t-r]}for(;s<4;++s)if(o.lo=(o.lo|(127&e[t])<<7*s)>>>0,e[t++]<128)return[o,t-r];if(o.lo=(o.lo|(127&e[t])<<28)>>>0,o.hi=(o.hi|(127&e[t])>>4)>>>0,e[t++]<128)return[o,t-r];if(s=0,i-t>4){for(;s<5;++s)if(o.hi=(o.hi|(127&e[t])<<7*s+3)>>>0,e[t++]<128)return[o,t-r]}else for(;s<5;++s){if(t>=i)throw RangeError("Unexpected end while reading varint");if(o.hi=(o.hi|(127&e[t])<<7*s+3)>>>0,e[t++]<128)return[o,t-r]}throw Error("Invalid varint encoding")}function a(){return o(r.call(this),this.data,this.length)}function u(){return this.data[this.offset++]|this.data[this.offset++]<<8|this.data[this.offset++]<<16|this.data[this.offset++]<<24}t.exports={readVarint:o,readVarintAndLength:s,readFixed32:u,readFixed64:function(){var t=u.call(this),e=u.call(this);return new n(t,e)},readLengthDelimited:function(){var t=a.call(this).toNumber(!0);return{start:this.offset,end:this.offset+=t,length:t}},lazyReadVarint:r,fullyReadVarint:a}},function(t,e,i){function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var r=i(1),o=i(0),s=o.PROTOBUF_TYPES,a=o.DEFAULT_VALUES,u=i(2),h=u.toByteArray,f=u.fromByteArray,l=i(3);function d(t){if(null==t||"number"==typeof t&&isNaN(t))return null;if("undefined"!=typeof Buffer&&t instanceof Buffer||"undefined"!=typeof Uint8Array&&t instanceof Uint8Array)return"bytes";if(Array.isArray(t))return"repeated";if("string"==typeof t)return"string";if("number"==typeof t)return t%1==0?"int32":"float";if("bigint"==typeof t)return"int64";if("boolean"==typeof t)return"bool";if("Object"===t.constructor.name){for(var e in t)if(t.hasOwnProperty(e)&&"unpacked"!==e)return"value"===e?d(t.value):s.indexOf(e)>-1?e:"message";return"message"}return t instanceof r?t.unsigned?"uint64":"int64":null}function c(t,e){if("message"===e)return v(t);if("repeated"===e){for(var i=[],n=0;n<t.length;n++){var o=t[n],s=d(o);o&&"Object"===o.constructor.name&&"message"!==s&&(o=o[s]),i[n]={type:s,value:c(o,s)}}return i}return"undefined"!=typeof Buffer&&t instanceof Buffer||"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?Array.from(t):"int64"!==e&&"uint64"!==e&&"sint64"!==e&&"fixed64"!==e||t instanceof r?"int32"===e||"uint32"===e||"sint32"===e||"fixed32"===e?parseInt(t):"bytes"===e?Array.isArray(t)?t:h(t):"string"===e?Array.isArray(t)?f(t):t:t&&"Object"===t.constructor.name&&"message"!==e?t[e]:t:"number"==typeof t?r.fromNumber(t,"uint64"===e):"bigint"==typeof t?r.fromString(t.toString(),"uint64"===e):r.fromString(t,"uint64"===e)}function v(t){"string"==typeof t&&(t=JSON.parse(t));var e={},i=[];for(var n in t)if(t.hasOwnProperty(n)&&!isNaN(parseInt(n))){e[n]||(e[n]=[]);var r=d(t[n]);if(null===r)continue;var o=t[n];if(o&&"Object"===o.constructor.name&&"message"!==r&&(o.unpacked&&(i[i.length]=n),o="value"in o?o.value:o[r]),o=c(o,r),"repeated"===r)for(var s=0;s<o.length;s++)e[n][e[n].length]=o[s];else e[n][e[n].length]={type:r,value:o}}return{fields:e,unpacked:i}}t.exports={jsonToInput:v,outputToJson:function t(e){var i={},n=e.fields;for(var o in n)if(n.hasOwnProperty(o)){i[o]||(i[o]=[]);for(var s=0;s<n[o].length;s++){var u=n[o][s],h=u.value;if("lengthDelimited"===u.type){h=e.data.slice(h.start,h.end);try{h=t(e.message(o,s))}catch(t){h=f(h)}}"varint"===u.type&&(h=e._varint(o,s)),h instanceof l&&(h=h.toLong().toString()),i[o][i[o].length]=h}}for(var d in e._knownFields)if(e._knownFields.hasOwnProperty(d)&&e._knownFields[d].length){var c=e._knownFields[d][0];if(!(d in i)){var v=a[c];"number"==typeof v&&(v+=""),v instanceof l&&(v=v.toLong()),v instanceof r&&(v=v.toString()),i[d]=[v]}}for(var g in i)i.hasOwnProperty(g)&&1===i[g].length&&(i[g]=i[g][0]);return i},inputToJson:function t(e,i){var o={},s=e.fields;for(var a in s)if(s.hasOwnProperty(a)){o[a]||(o[a]=[]);for(var u=0;u<s[a].length;u++){var h=s[a][u];if(void 0!==h){var f=h.value;f instanceof r&&(f=f.toString()),f instanceof i&&(f=t(f,i)),d(f)!==h.type&&(f=n({},h.type,f)),o[a][o[a].length]=f}}}for(var l in o)o.hasOwnProperty(l)&&(1===o[l].length?o[l]=o[l][0]:e._unpacked[l]&&(o[l]={unpacked:!0,value:o[l]}));return o}}},function(t,e,i){var n=i(0),r=n.TWO_TO_52,o=n.TWO_TO_32,s=n.TWO_TO_23,a=n.TWO_TO_20,u=n.MIN_FLOAT,h=n.MAX_FLOAT,f=n.MIN_DOUBLE,l=n.MAX_DOUBLE;t.exports={splitDouble:function(t){var e,i,n=t<0?1:0;if(n&&(t=-t),0===t)return{hi:1/t<0?2147483648:0,lo:0};if(isNaN(t))return{hi:2147483647,lo:4294967295};if(t>l)return{hi:(n<<31|2146435072)>>>0,lo:0};if(t<f)return i=t/Math.pow(2,-149),{hi:(n<<31|t/o)>>>0,lo:i>>>0};var s=t;if(e=0,s>=2)for(;s>=2&&e<1023;)e++,s/=2;else for(;s<1&&e>-1022;)s*=2,e--;return{hi:(n<<31|e+1023<<20|(i=t*Math.pow(2,-e))*a&1048575)>>>0,lo:i*r>>>0}},splitFloat:function(t){var e,i,n=t<0?1:0;return n&&(t=-t),0===t?1/t<0?2147483648:0:isNaN(t)?2147483647:t>h?(n<<31|2139095040)>>>0:t<u?(n<<31|(i=Math.round(t/Math.pow(2,-149))))>>>0:(e=Math.floor(Math.log(t)/Math.LN2),i=t*Math.pow(2,-e),(n<<31|e+127<<23|(i=8388607&Math.round(i*s)))>>>0)},joinDouble:function(t,e){var i=2*(e>>31)+1,n=e>>20&2047,s=o*(1048575&e)+t;return 2047===n?s?NaN:i*(1/0):0===n?i*Math.pow(2,-1074)*s:i*Math.pow(2,n-1075)*(s+r)},joinFloat:function(t){var e=2*(t>>31)+1,i=t>>23&2047,n=8388607&t;return 255===i?n?NaN:e*(1/0):0===i?e*Math.pow(2,-149)*n:e*Math.pow(2,i-150)*(n+s)},zigZagDecode:function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t.and(1)?t.shiftRight(1).xor(-1):t.shiftRight(1):1&t?t>>1^-1:t>>1}}},function(t,e,i){var n=i(1),r=i(3);function o(t){if(0===t&&(this.data[this.pos]=t),t<0){for(var e=0;e<9;e++)this.data[this.pos++]=127&t|128,t>>=7;this.data[this.pos++]=1}else{for(;t>127;)this.data[this.pos++]=127&t|128,t>>>=7;this.data[this.pos++]=t}}function s(t){this.data[this.pos++]=255&t,this.data[this.pos++]=t>>>8&255,this.data[this.pos++]=t>>>16&255,this.data[this.pos++]=t>>>24&255}t.exports={writeLongVarint:function(t){for(t instanceof n&&(t=r.from(t));t.hi;)this.data[this.pos++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)this.data[this.pos++]=127&t.lo|128,t.lo=t.lo>>>7;this.data[this.pos++]=t.lo},writeNumberVarint:o,writeFixed32:s,writeFixed64:function(t){var e=r.from(t);s.call(this,e.lo),s.call(this,e.hi)},writeLengthDelimited:function(t){o.call(this,t.length);for(var e=0;e<t.length;e++)this.data[this.pos++]=t[e]}}},function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=i(0).WIRE_TYPES_NAMES,o=i(4),s=o.readFixed32,a=o.readFixed64,u=o.readLengthDelimited,h=o.lazyReadVarint,f=o.fullyReadVarint,l=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&(e=new Uint8Array(e)),!(Array.isArray(e)||"undefined"!=typeof Buffer&&e instanceof Buffer||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array))throw Error("Input for deserializer must be an array/buffer");this.data=e,this.offset=0,this.length=e.length}var e,i,o;return e=t,(i=[{key:"parse",value:function(){for(var t=[];this.offset<this.length;){var e=this._parseField();t.push(e)}if(this.offset>this.length)throw Error("Buffer exhausted");return t}},{key:"_parseField",value:function(){var t=this._parseHeader(),e=t.type,i=t.key,n={0:h,1:a,2:u,5:s}[e];if(!n)throw Error("Unknown wire type: "+e);return{key:i,value:n.call(this),type:r[e]}}},{key:"_parseHeader",value:function(){var t=f.call(this).toNumber(!0);return{type:7&t,key:t>>3}}}])&&n(e.prototype,i),o&&n(e,o),t}();t.exports=l},function(t,e,i){var n=i(10),r=i(11),o=i(8),s=i(5),a=i(2),u=function(t){return new n(t,new o(t).parse())};t.exports={OutputMessage:n,InputMessage:r,parse:u,fromHex:function(t){return u(a.fromHex(t))},create:function(){return new r},fromJson:function(t){var e=new r;return e=function t(e,i){for(var n in i.fields)if(i.fields.hasOwnProperty(n))for(var o=0;o<i.fields[n].length;o++)if("message"===i.fields[n][o].type){var s=new r;i.fields[n][o].value=t(s,i.fields[n][o].value)}return e.unpacked(i.unpacked),e.fields=i.fields,e}(e,s.jsonToInput(t))}}},function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=i(6),a=s.joinDouble,u=s.joinFloat,h=s.zigZagDecode,f=i(2),l=f.keyByMultiple,d=f.fromByteArray,c=f.toHex,v=i(0),g=v.VARINT_TYPES,y=v.PACKABLE_TYPES,p=i(4),m=p.readVarint,_=p.readFixed32,w=p.readFixed64,b=p.lazyReadVarint,k=i(8),x=i(3),T=i(1),E=i(5).outputToJson,N=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.fields=l(i,"key"),this._cache={},this._knownFields={}}var e,i,s;return e=t,(i=[{key:"_assertHas",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.has(t,e);return i||this._throwHas(t,e),i}},{key:"_checkType",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this._assertHas(t,e),n?t in this._knownFields&&(this._knownFields[t].indexOf("any")>-1||this._knownFields[t].indexOf(i)>-1)||!(t in this._knownFields)||this._knownFields[t].indexOf(i)>-1:i===this._typeToWireType(this.type(t,e))}},{key:"_assertType",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this._checkType(t,e,i,n))throw Error("Field ".concat(t," is not of type ").concat(i));return!0}},{key:"_cached",value:function(t,e,i,n){var r="".concat(t,"(").concat(e,";").concat(i,")");return r in this._cache||(this._cache[r]=n()),this._cache[r]}},{key:"_throwHas",value:function(t,e){throw Error("Object does not have ".concat(t,":").concat(e," field"))}},{key:"_typeToWireType",value:function(t){return g.indexOf(t)>-1?"varint":"fixed32"===t||"fixed64"===t?t:"lengthDelimited"}},{key:"known",value:function(){for(var t=this,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return i.forEach((function(e){if("number"==typeof e)t._knownFields[e]=["any"];else if(Array.isArray(e))t.known.apply(t,r(e));else if("object"===n(e))for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];Array.isArray(o)||(o=[o]),t._knownFields[i]=o}})),this}},{key:"has",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t in this.fields&&e in this.fields[t];return!i&&t in this._knownFields||n}},{key:"length",value:function(t){return this._assertHas(t)&&this.fields[t].length}},{key:"type",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.has(t,e,!0)?this.fields[t][e].type:t in this._knownFields?this._knownFields[t][0]:void this._throwHas(t,e)}},{key:"array",value:function(t,e){if(this.has(t,0,!0)){for(var i=[],n=0,r=0;r<this.length(t);r++)i[n++]=this.get(t,e,r);return i}if(t in this._knownFields)return[];this._throwHas(t,0)}},{key:"iter",value:function(t,e){if(this.has(t,0,!0)){var i=0,n=this,r=this.length(t),o={next:function(){if(i>=r)return{done:!0,value:void 0};var o=n.get(t,e,i);return i+=1,{value:o,done:!1}}};return"undefined"!=typeof Symbol&&Symbol.iterator&&(o[Symbol.iterator]=function(){return o}),o}if(t in this._knownFields)return{next:function(){return{value:void 0,done:!0}}};this._throwHas(t,0)}},{key:"get",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._assertHas(t,i)&&this[e].call(this,t,i)}},{key:"string",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._assertType(t,e,"lengthDelimited"),this._assertType(t,e,"string",!0),!this.has(t,e,!0))return"";var i=this.fields[t][e].value;return"_string"in this.fields[t][e]||(this.fields[t][e]._string=d(this.data,i.start,i.end)),this.fields[t][e]._string}},{key:"bytes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._assertType(t,e,"lengthDelimited"),this._assertType(t,e,"bytes",!0),!this.has(t,e,!0))return[];if(!("_buffer"in this.fields[t][e])){var i=this.fields[t][e].value;this.fields[t][e]._buffer=this.data.slice(i.start,i.end)}return this.fields[t][e]._buffer}},{key:"hex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return c(this.bytes(t,e))}},{key:"message",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._assertType(e,i,"lengthDelimited"),this._assertType(e,i,"message",!0),!this.has(e,i,!0))return new t;if(!("_message"in this.fields[e][i])){var n=this.fields[e][i].value,r=new k(this.data);r.offset=n.start,r.length=n.end,this.fields[e][i]._message=new t(this.data,r.parse())}return this.fields[e][i]._message}},{key:"fixed32",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertType(t,e,"fixed32"),this.has(t,e,!0)?this.fields[t][e].value>>>0:0}},{key:"fixed64",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertType(t,e,"fixed64"),this.has(t,e,!0)?this.fields[t][e].value.toLong(!1):T(0,0)}},{key:"float",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertType(t,i,"float",!0),this._cached("float",t,i,(function(){return u(e.fixed32(t,i))}))}},{key:"double",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertType(t,i,"fixed64"),this._assertType(t,i,"float",!0),this._cached("double",t,i,(function(){return a(e.fields[t][i].value.lo,e.fields[t][i].value.hi)}))}},{key:"_varint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.has(t,e,!0))return x.zero;if(this._assertType(t,e,"varint"),!("_varint"in this.fields[t][e])){var i=this.fields[t][e].value;this.fields[t][e]._varint=m(i,this.data)}return this.fields[t][e]._varint}},{key:"int32",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertType(t,e,"int32",!0),this._varint(t,e).toNumber()}},{key:"int64",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertType(t,e,"int64",!0),this._varint(t,e,!0).toLong(!1)}},{key:"uint32",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertType(t,e,"uint32",!0),this._varint(t,e).toNumber(!0)}},{key:"uint64",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertType(t,e,"uint64",!0),this._varint(t,e).toLong(!0)}},{key:"bool",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertType(t,e,"bool",!0),!!this._varint(t,e).toNumber()}},{key:"sint32",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertType(t,i,"sint32",!0),this._cached("sint32",t,i,(function(){return h(e.int32(t,i))}))}},{key:"sint64",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertType(t,i,"sint64",!0),this._cached("sint64",t,i,(function(){return e._varint(t,i).clone().zzDecode().toLong()}))}},{key:"sfixed32",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertType(t,e,"sfixed32",!0),this.has(t,e,!0)?this.fields[t][e].value:0}},{key:"sfixed64",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertType(t,e,"fixed64"),this.has(t,e,!0)?(this._assertType(t,e,"sfixed64",!0),this.fixed64(t,e)):T(0,0)}},{key:"_processPacked",value:function(t,e,i){var n={offset:e.value.start,data:this.data,length:e.value.end};if(g.indexOf(t)>-1)for(;n.offset<n.length;){var r=b.apply(n);i.push({value:r,type:"varint"})}else if("fixed32"===t||"float"===t||"sfixed32"===t||"fixed64"===t||"double"===t||"sfixed64"===t)for(;n.offset<n.length;){var o=("fixed32"===t||"float"===t||"sfixed32"===t?_:w).apply(n);i.push({value:o,type:"fixed32"===t||"float"===t||"sfixed32"===t?"fixed32":"fixed64"})}}},{key:"repeated",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(this._assertHas(t),!this.has(t,0,!0))return[];if(-1!==y.indexOf(e)){var n=[];if(-1!==i){var r=this.fields[t][i];"lengthDelimited"===r.type&&this._processPacked(e,r,n)}else for(var o=0;o<this.fields[t].length;o++){var s=this.fields[t][o];"lengthDelimited"===s.type?this._processPacked(e,s,n):n.push(s)}return this.fields[t]=n,this}}},{key:"toJSON",value:function(){return E(this)}}])&&o(e.prototype,i),s&&o(e,s),t}();"undefined"!=typeof Symbol&&(N.prototype[Symbol.for("nodejs.util.inspect.custom")]=N.prototype.toJSON),t.exports=N},function(t,e,i){function n(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=i(1),s=i(0),a=s.MIN_INT32,u=s.MIN_INT64,h=s.MIN_UINT32,f=s.MIN_UINT64,l=s.MAX_INT32,d=s.MAX_INT64,c=s.MAX_UINT32,v=s.MAX_UINT64,g=i(12),y=i(5),p=i(2).toHex,m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fields={},this._parent=null,this._unpacked={}}var e,i,s;return e=t,(i=[{key:"has",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t in this.fields&&e in this.fields[t]}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.has(t))throw Error("Message does not have ".concat(t,":").concat(i));"number"==typeof e&&0===i&&(i=e,e=null);var n=this.fields[t][i];if(null!==e&&e!==n.type)throw Error("".concat(t,":").concat(i," is not ").concat(e));return n.value}},{key:"array",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.has(t))throw Error("Message does not have ".concat(t));for(var i=[],n=0;n<this.fields[t].length;n++){var r=this.fields[t][n];if(void 0===r)i[n]=void 0;else{if(null!==e&&r.type!==e)throw Error("".concat(t,":").concat(n," is not ").concat(e));i[n]=r.value}}return i}},{key:"iter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.has(t))throw Error("Message does not have ".concat(t));var n=0,r=this,o=r.fields[t].length,s={next:function(){if(n>=o)return{done:!0,value:void 0};if(r.fields[t].length!==o)throw Error("Data size changed during iteration");var s,a=r.fields[t][n].type;if(null!==i&&a!==i)throw Error("".concat(t,":").concat(n," is not ").concat(i));if(e){var u=n;s={get:function(){return r.fields[t][u].value},set:function(e){r[a](t,e,u)}}}else s=r.fields[t][n].value;return n+=1,{value:s,done:!1}}};return"undefined"!=typeof Symbol&&Symbol.iterator&&(s[Symbol.iterator]=function(){return s}),s}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t)this.fields={};else if(t in this.fields)if(null!==e){if(e<0&&(e=this.fields[t].length+e),e<0||e>=this.fields[t].length)throw RangeError("Out of array bounds");this.fields[t].splice(e,1)}else this.fields[t]=[];return this}},{key:"append",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.has(t)){var n=this.fields[t],r=n[n.length-1];if(null!==i&&i!==r.type)throw Error("Previous item(s) in array have type ".concat(r.type,", not ").concat(i));null===i&&(i=r.type),this._addField(t,n.length,e,i)}else{if(null===i)throw Error("First item in array must have type set explicitly");this._addField(t,0,e,i)}return this}},{key:"string",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._addField(t,i,e+"","string"),this}},{key:"bytes",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e)||"undefined"!=typeof Buffer&&e instanceof Buffer)return this._addField(t,i,Array.from(e),"bytes"),this;throw Error("".concat(e?e.constructor.name:e," cannot be cast to bytes."))}},{key:"bool",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._addField(t,i,!!e,"bool"),this}},{key:"float",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._addField(t,i,e,"float"),this}},{key:"double",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._addField(t,i,e,"double"),this}},{key:"fixed32",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._addField(t,i,e,"fixed32"),this}},{key:"sfixed32",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._addField(t,i,e,"sfixed32"),this}},{key:"fixed64",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e instanceof o||(e=o.fromValue(e)),this._addField(t,i,e,"fixed64"),this}},{key:"sfixed64",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e instanceof o||(e=o.fromValue(e)),this._addField(t,i,e,"sfixed64"),this}},{key:"message",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new t;return n._parent=this,this._addField(e,i,n,"message"),n}},{key:"parent",value:function(){return this._parent}},{key:"end",value:function(){if(null===this._parent)throw Error("Root doesn't have parent");return this._parent}},{key:"unpacked",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var r=0;r<e.length;r++)Array.isArray(e[r])?this.unpacked.apply(this,n(e[r])):this._unpacked[e[r]]=1;return this}},{key:"_addField",value:function(t,e,i,n){if(t in this.fields||(this.fields[t]=[]),Array.isArray(i)&&"bytes"!==n){if(0!==e)throw Error("index != 0 when inserting multiple values");this.fields[t]=i.map((function(t){return{type:n,value:t}}))}else this.fields[t][e]={value:i,type:n}}},{key:"toWire",value:function(){return new g(this).run()}},{key:"serialize",value:function(){return this.toWire()}},{key:"toHex",value:function(){return p(this.toWire())}},{key:"toBuffer",value:function(){if("undefined"==typeof Buffer)throw Error("Buffer is not supported in current environment");return Buffer.from(this.toWire())}},{key:"toUint8Array",value:function(){if("undefined"==typeof Uint8Array)throw Error("Uint8Array is not supported in current environment");return new Uint8Array(this.toWire())}},{key:"toArrayBuffer",value:function(){return this.toUint8Array().buffer}},{key:"toJSON",value:function(){return y.inputToJson(this,t)}}])&&r(e.prototype,i),s&&r(e,s),t}();m._varints=[{name:"int32",from:a,to:l},{name:"int64",from:u,to:d,long:!0},{name:"uint32",from:h,to:c},{name:"uint64",from:f,to:v,long:!0,unsigned:!0},{name:"sint32",from:a,to:l},{name:"sint64",from:u,to:d,long:!0}],m._varints.forEach((function(t){m.prototype[t.name]=function(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("bigint"==typeof i&&(i=i.toString(10)),"string"==typeof i&&(i=t.long?o.fromString(i,t.unsigned):parseInt(i,10)),t.long)i instanceof o||(i=o.fromNumber(i,t.unsigned));else if(i<t.from||i>t.to)throw RangeError("".concat(i," is outside ").concat(t.name," range."));return this._addField(e,n,i,t.name),this}})),"undefined"!=typeof Symbol&&(m.prototype[Symbol.for("nodejs.util.inspect.custom")]=m.prototype.toJSON),t.exports=m},function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=i(7),o=r.writeNumberVarint,s=r.writeLongVarint,a=r.writeFixed64,u=r.writeFixed32,h=r.writeLengthDelimited,f=i(2).toByteArray,l=i(6),d=l.splitFloat,c=l.splitDouble,v=i(0),g=v.WIRE_TYPES,y=v.VARINT_TYPES,p=(i(1),i(3)),m={varint:s,fixed32:u,fixed64:a,lengthDelimited:h},_=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.msg=e,this.data=[],this.pos=0}var e,i,r;return e=t,(i=[{key:"_getPrimitiveType",value:function(t){if(y.indexOf(t)>-1)return"varint";if("fixed32"===t||"fixed64"===t)return t;if("float"===t||"sfixed32"===t)return"fixed32";if("double"===t||"sfixed64"===t)return"fixed64";if("string"===t||"bytes"===t||"message"===t)return"lengthDelimited";throw Error("Can't find primitive for ".concat(t))}},{key:"_coerceTo",value:function(e,i){var n=e.value;if("lengthDelimited"===i)switch(e.type){case"message":return new t(n).run();case"string":return f(n);case"bytes":case"lengthDelimited":return e.value;default:throw Error("".concat(e.type," cannot be coerced to ").concat(i))}return"sint32"===e.type||"sint64"===e.type?p.from(n).zzEncode():"float"===e.type?d(n):"double"===e.type?c(n):"bool"===e.type&&"varint"===i?!!e.value:e.value}},{key:"_coerce",value:function(t){var e=this._getPrimitiveType(t.type);return{type:e,value:this._coerceTo(t,e)}}},{key:"_preProcess",value:function(){var t=[],e={},i=0;for(var n in this.msg.fields)if(this.msg.fields.hasOwnProperty(n))for(var r=this.msg.fields[n],s=0;s<r.length;s++){var a=r[s];if(void 0!==a){var u=a=this._coerce(a),h=u.type,f=u.value;"lengthDelimited"===h&&0===f.length||("varint"!==h&&"fixed32"!==h&&"fixed64"!==h||this.msg._unpacked[n]?t[i++]={type:h,value:f,key:n}:(n in e||(e[n]=[]),e[n].push(a)))}}for(var l in e)if(e.hasOwnProperty(l))if(e[l].length>1){for(var d={data:[],pos:0},c=0;c<e[l].length;c++){var v=e[l][c],g=v.type,y=v.value;"varint"===g&&"number"==typeof y?o.call(d,y):m[g].call(d,y)}t[i++]={key:l,type:"lengthDelimited",value:d.data}}else{var p=e[l][0],_=p.type,w=p.value;t[i++]={type:_,value:w,key:l}}return t}},{key:"run",value:function(){for(var t=this._preProcess(),e=0;e<t.length;e++){var i=t[e],n=i.key,r=i.type,s=i.value;s&&0!==s.length&&(o.call(this,8*n+g[r]),"varint"===r&&"number"==typeof s?o.call(this,s):m[r].call(this,s))}return this.data}}])&&n(e.prototype,i),r&&n(e,r),t}();t.exports=_}])}));